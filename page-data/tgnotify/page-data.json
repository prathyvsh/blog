{"componentChunkName":"component---src-templates-blog-post-js","path":"/tgnotify/","result":{"data":{"site":{"id":"Site","siteMetadata":{"title":"dayDreams ++","author":"Athul Cyriac Ajay"}},"markdownRemark":{"id":"3495a402-edcf-5c3a-950c-613d4ce263cf","excerpt":"The Story Behind So, these few days I‚Äôve been working on Shelby a lot. For handling the releases section I used Travis CI and Travis really does a good job at‚Ä¶","html":"<h3>The Story Behind</h3>\n<p>So, these few days I‚Äôve been working on <a href=\"https://github.com/athul/shelby\">Shelby</a> a lot. For handling the releases section I used Travis CI and Travis really does a good job at it.<br>\nThe only thing about travis is that it takes time to <em>complete the build and deploy cycle</em>. Starting with the docker container to the deployment. We‚Äôd have to wait in the build page for a few minutes till the build&#x26;deploy is completed. That‚Äôs just waste of productive time I‚Äôd say. Maybe in that time we could do something else like searhing stackoverflow for a previous error or read the docs to find out how it works better. And to check if the build failed or succeded, I‚Äôd have to go back to Travis‚Äô page and meh, it‚Äôs just lazy.</p>\n<p>So I googled for any solutions to get me notified. I found this medium article where the author made a Shell Script to use it with Travis and sends you a notification on the <strong>build‚Äôs status in Telegram using a Bot.</strong> I didn‚Äôt knew that a Shell Script is enough for a telegram bot to work.</p>\n<p>I loved the idea, and copied the script and used it with some changes in the output message. It was fast alright. As soon as the build completed I‚Äôd get a Message in Telegram regarding the status. </p>\n<h3>The Story Now</h3>\n<p>I tweaked the same script to use it along GitHub Actions and boy, its fast alright.\nThe solution I used before this was a GitHub Action I made for notifying meon Builds using GitHub actions. It was called <a href=\"https://github.com/athul/statusoli\">Statusoli</a>.<br>\nI made it using docker actions template and Go. I made different versions for it in different branches of the Repo. The <code class=\"language-text\">star</code> branch had an output message for notifying about new stars in the repo. The <code class=\"language-text\">notify</code> branch is for notifying about any new pull  request or issues opened,closed,assigned or reopened. The <code class=\"language-text\">master</code> branch is just for sending a message regarding only the build status.\nAnd all of it included a Malayalam Text, I made it just for funü§∑‚Äç‚ôÇÔ∏è.</p>\n<p>Now the shell script for GitHub Actions Telegram Notify is a small one, You can find all of my scripts <a href=\"https://github.com/athul/autom\">here</a>.</p>\n<p>You just have to add these lines to the action</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\">    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Notifier\n      <span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">TELEGRAM_CHAT_ID</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.TELEGRAM_CHAT_ID<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n        <span class=\"token key atrule\">TELEGRAM_TOKEN</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>secrets.TELEGRAM_TOKEN <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n        <span class=\"token key atrule\">INPUT_STATUS</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> job.status <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> sh <span class=\"token punctuation\">-</span>c \"$(curl <span class=\"token punctuation\">-</span>sL https<span class=\"token punctuation\">:</span>//raw.githubusercontent.com/athul/autom/master/tg_gh_action_noti.sh)\"</code></pre></div>\n<blockquote>\n<p>The <code class=\"language-text\">TELEGRAM_TOKEN</code> and the <code class=\"language-text\">TELEGRAM_CHAT_ID</code> should be added to the repository secrets in the repository settings. Be in mind that these Secret‚Äôs Name is case sensitive.</p>\n</blockquote>\n<ul>\n<li>Here the <code class=\"language-text\">TELEGRAM_CHAT_ID</code> is the chat id you want the bot to send the messages to. You can find your chat id by speaking to <code class=\"language-text\">jsondumpbot</code> in telegram. </li>\n<li>The <code class=\"language-text\">TELEGRAM_TOKEN</code> is your Telegram bot‚Äôs API Key. You can create a new bot by talking to <code class=\"language-text\">botfather</code> bot in Telegram</li>\n<li>The <code class=\"language-text\">INPUT_STATUS</code> is something the actions have, you don‚Äôt have to pass anything to it.\nThe Shell script mostly uses Action‚Äôs Environment Variables. So you‚Äôd have to define the trigger on which the action should be done. Check <a href=\"https://help.github.com/en/actions/automating-your-workflow-with-github-actions/events-that-trigger-workflows\">this Guide</a> for references.\nAnd     </li>\n</ul>\n<hr>\n<p>Screenshots:  1. Shell Script, 2. Statuoli<br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 212px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/60d4d6593b652677f93c972df6223d8c/9f128/p1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 130.18867924528303%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAAAsSAAALEgHS3X78AAADp0lEQVRIx5VUyXZaRxDVD/g4g23Z0mEQGph5PIbHICRmBJpACBAIBGgyFpKsYFuKrJPssski63xAFvmELPJxN1WFhQYQsRd1+vXr6tv33qruCYMSwWI3C295BbHVEqyBFFy2IBY3WygeX2HGHYPRHZXxf0ONYcLoiaDzbx5bv2fw95/vkd1cQ8iooNH7DX/89Q9MagJG13J/gzImBoB0uikcxowWhsmh0eYIpu0RmDxJLGgrlBiFUbljeJ/t4Ps+oMkTh7pUgC2QgzOyAXsoB288D7OWpsT+BpMaHwoBVEYALvhTaHUvEd9s4OD8GscXN2h3r9A8uZQNU7YwXpuDEpMLAbyieGMJDcBkfAxYap1hbecI+fo7RNd3sVLax0btLYLpkvzffdtDlv7xeqFxImu2UBZ65/Iww1mSvLnboeQOis2uAPJ8u3WK9FYL6WILe+8+Yfe4J2P79ErWLFpG2N3Z0Pd0wqAs47lRxQ8mL76f8eDVvIYfZ30yf0nfLHOS5L6c9+O5wY3vjB68oPVpsuKNNYQpa1gsYGuEIZtf73wQGauVQyTyjQEz9jWcrQgDNbqBcvsMme02koU9xDbqYkNqq4lVsoX/6YncxJw3gRIl1kgSS80IUJ3GNnLlA7FAT30YSBXFFjmQchiwQJ7yAevVYwHmPJIcJRmqyBTqJGHatijzF1+k651L0FG8tgRFGgfnyPyx5Hl/EtWjn4TJbc+x2cyET25SIbzxgoByAdl8KcKI/pSisGT2jinf3gADUS+3z6UXD88/w5/cEoaP7+7IxmZUlsfVvJ/EMp7pFTzTuaTyt2v3r+EgHjQ2VbnR+UgsimLqLUOufvXwQvqPi8FKRoINNTYl1o56JLkFnWNJvGBgV2Qd+2fX0sx84AOJ4wBZ8uScD1NmemmcERgcizDYw9BZqZlNHrGC7/GDuzsO0EQM7ek6nLl9WGJlWBNVOHIHcK4ewLHSxKw3KZX9aoYmXwrq9nt4q5dQCl24i/S98xFa81f46zeYC67ePbBPxWPJensIOosmUvlbbw3IXP6RDUNtMg5wxpOANb4De6YJc7REsU1yD0W6kj+BJV4hoG9gyJI9lQ/wN26+yP1E4xl8tZ9FNq892X9PSe7L81NlA3251r5cndkn87FNPYqha+0ItlQdjmybKl0RC1iyLd2Aebk43r/htiHJtWuoO1TlUg9q6QK++meSfQ5t7xe4C6ffBsgviEaXX6P3jl8VoxIbWdWvBfwPE19maK6Oyc4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Shell Script\"\n        title=\"Shell Script\"\n        src=\"/blog/static/60d4d6593b652677f93c972df6223d8c/9f128/p1.png\"\n        srcset=\"/blog/static/60d4d6593b652677f93c972df6223d8c/12f09/p1.png 148w,\n/blog/static/60d4d6593b652677f93c972df6223d8c/9f128/p1.png 212w\"\n        sizes=\"(max-width: 212px) 100vw, 212px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span><br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 257px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/bfd99676189a6fb6da80cb51daf3c38c/96e35/p2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52.140077821011666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACBUlEQVQoz22SW1PaUBSF+Retihic6agE5FoJcg0jwSRIAiaUJJYCcrGBFhUqDO0441Mf2r73366enBCHhz7s2fvsmXyz1l7xpSwe6t8qpF8C5D8Car8l7LHn2A/n4Ce1H8nTvsdm3R3rzv7N7PRgrIRgvAQmVoQvoV6g9bMJ/UWHvJJxta4jydeRKDpdxWlORqKkgBM0ukuVVWSqOt6XG3TvvD2Y030sJ6HdmePa/ApRHcHqf4P2aQpz+ABr9Aih2UWr9wXG4B6Xep92Z9/4+Bmjhx9QrDscRAsURoHOYzeUwc4JR+RnETjN4+1xBm+O0qQ47JDZv7EfiBRc+6Gsa3dj2VNHLUeyElVz3ZmgrNwgXdHQm65gEhUG2etEnQfZJcWQex3GefduW8XEi7T7ooUauvYTsWDDuJ2h3r6F1rHJjRQo5gg9ewFR60K1RuCvDLxL8DggQVFQ1IV4CinwhKtShcZghoo+QG2wBK+PcZiWkVX6uGjbEE0bUmcGbbxCTDAQTFZeYa/lAY/TAlUnt/oI8TqSxhJn7QU4awlWHiLTf0Hqwxzh2hgR7REpa42w2CMqc/8HHp1VSFJjDGdrdCdPJGEbTZJg4+YOIaLenj9jsnjGJbEdIKEFSYiMZ3VbpQdkz0Xo3Sm9Y15q03/MAQ/vv4PNiPQjJwSnGC8AsmO277cF/AcYpWUEyGfgdAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Statusoli\"\n        title=\"Statusoli\"\n        src=\"/blog/static/bfd99676189a6fb6da80cb51daf3c38c/96e35/p2.png\"\n        srcset=\"/blog/static/bfd99676189a6fb6da80cb51daf3c38c/12f09/p2.png 148w,\n/blog/static/bfd99676189a6fb6da80cb51daf3c38c/96e35/p2.png 257w\"\n        sizes=\"(max-width: 257px) 100vw, 257px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span><br>\n<strong>Happy New Year Ya‚Äôll</strong></p>","frontmatter":{"title":"Get GitHub action Notification in Telegram ‚ö°Ô∏è‚ö°Ô∏è","date":"January 01, 2020","description":"Get Notifications of GitHub Actions in Telegram by using only a Shell Script and a Bot"}}},"pageContext":{"slug":"/tgnotify/","previous":{"fields":{"slug":"/shelby/"},"frontmatter":{"title":"Shelby, the Shell Prompt"}},"next":{"fields":{"slug":"/love-and-other/"},"frontmatter":{"title":"Love and Other......"}}}}}